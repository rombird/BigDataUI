<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Chartjs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body style="display:flex;justify-content:center;align-items:center;height:100vh;">
    <div style="width:800px;height:500px">
        <canvas id="myChart"></canvas>
    </div>

    <script>
        const ctx = document.getElementById('myChart');

        const dataSet = [
            {
                label: 'red',
                data: [12, 0, 0, 0, 0, 0],
                borderWidth: 1,
                backgroundColor: 'red',
                borderColor: '',
            },
            {
                label: 'orange',
                data: [0, 22, 0, 0, 0, 0],
                borderWidth: 1,
                backgroundColor: 'orange',
                borderColor: '',
            },
            {
                label: 'yellow',
                data: [0, 0, 30, 0, 0, 0],
                borderWidth: 1,
                backgroundColor: 'yellow',
                borderColor: '',
            },
            {
                label: 'green',
                data: [0, 0, 0, 6, 0, 0],
                borderWidth: 1,
                backgroundColor: 'green',
                borderColor: '',
            },
            {
                label: 'blue',
                data: [0, 0, 0, 0, 17, 0],
                borderWidth: 1,
                backgroundColor: 'blue',
                borderColor: '',
            },
            {
                label: 'purple',
                data: [0, 0, 0, 0, 0, 8],
                borderWidth: 1,
                backgroundColor: 'purple',
                borderColor: '',
            }
        ]
        const option = {
            // line에 적용
            // animation: {
            //     tension: {
            //         duration: 1000,
            //         easing: 'linear',
            //         from: 1,
            //         to: 0,
            //         loop: true,
            //     }
            // },

            // bar에 적용
            animation:{
                delay:(el)=>{return el.dataIndex*100;},
            },
            scales: {
                x: {
                    stacked: true, // bar넓이가 적절한 두께로 설정
                },
                y: {
                    beginAtZero: true,
                    // max:100, // 최대값
                    // min:0, // 최소값
                    // ticks:{
                    //     stepSize:10 // 단위 - 10(원래 그래프에 맞게 5단위)
                    // }
                }
            },
            onClick:(event, chartEl)=>{
                // console.log(event);
                console.log(chartEl); 
            }
        }


        new Chart(ctx, {
            type: 'bar', // line, bar, pie, doughnut, bubble, scatter, heatmap
            data: {
                labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                datasets: dataSet
            },
            options: option
        });
    </script>

</body>

</html>